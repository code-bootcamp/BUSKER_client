(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{7049:function(a,b,c){"use strict";var d=c(7462),e=c(4942),f=c(4184),g=c.n(f),h=c(7294),i=c(3124),j=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};b.Z=function(a){var b,c=h.useContext(i.E_),f=c.getPrefixCls,k=c.direction,l=a.prefixCls,m=a.type,n=void 0===m?"horizontal":m,o=a.orientation,p=void 0===o?"center":o,q=a.orientationMargin,r=a.className,s=a.children,t=a.dashed,u=a.plain,v=j(a,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),w=f("divider",l),x=p.length>0?"-".concat(p):p,y=!!s,z="left"===p&&null!=q,A="right"===p&&null!=q,B=g()(w,"".concat(w,"-").concat(n),(b={},(0,e.Z)(b,"".concat(w,"-with-text"),y),(0,e.Z)(b,"".concat(w,"-with-text").concat(x),y),(0,e.Z)(b,"".concat(w,"-dashed"),!!t),(0,e.Z)(b,"".concat(w,"-plain"),!!u),(0,e.Z)(b,"".concat(w,"-rtl"),"rtl"===k),(0,e.Z)(b,"".concat(w,"-no-default-orientation-margin-left"),z),(0,e.Z)(b,"".concat(w,"-no-default-orientation-margin-right"),A),b),r),C=(0,d.Z)((0,d.Z)({},z&&{marginLeft:q}),A&&{marginRight:q});return h.createElement("div",(0,d.Z)({className:B},v,{role:"separator"}),s&&"vertical"!==n&&h.createElement("span",{className:"".concat(w,"-inner-text"),style:C},s))}},8369:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/myPage",function(){return c(4595)}])},4595:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return ga}});var d=c(5944),e=c(4051),f=c.n(e),g=c(7887),h=c(319),i=c(928),j=c(1163),k=c(7294),l=c(7049),m=c(166),n=c(3926);function o(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function p(){var a=o(["\n  @media "," {\n    padding: 0 80px;\n    max-width: 1440px;\n  }\n  @media "," {\n    padding: 0 40px;\n    max-width: 991px;\n  }\n  @media "," {\n    padding: 0 10px;\n    max-width: 767px;\n  }\n\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n"]);return p=function(){return a},a}function q(){var a=o(["\n  height: 100%;\n  box-shadow: ",";\n  border-radius: 1rem;\n  max-width: 1100px;\n  width: 100%;\n  overflow: hidden;\n"]);return q=function(){return a},a}function r(){var a=o(["\n  font-size: 3rem;\n  font-weight: 700;\n  padding: 1em;\n  background-color: ",";\n  color: white;\n"]);return r=function(){return a},a}function s(){var a=o(["\n  @media "," {\n    padding: 3em 5em;\n  }\n  @media "," {\n    padding: 2em 4.5em;\n  }\n  @media "," {\n    padding: 1em 2em;\n  }\n"]);return s=function(){return a},a}function t(){var a=o(["\n  display: flex;\n  justify-content: start;\n"]);return t=function(){return a},a}function u(){var a=o(["\n  font-size: 1.5em;\n  padding-left: 10px;\n"]);return u=function(){return a},a}function v(){var a=o(["\n  display: flex;\n  padding-top: 2.5rem;\n  align-items: center;\n"]);return v=function(){return a},a}function w(){var a=o([""]);return w=function(){return a},a}function x(){var a=o(["\n  font-size: 2rem;\n  & > span {\n    font-size: 2rem;\n    color: ",";\n  }\n"]);return x=function(){return a},a}function y(){var a=o(["\n  list-style: none;\n  padding: 0;\n  max-width: 500px;\n  min-width: 200px;\n"]);return y=function(){return a},a}function z(){var a=o(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  & > span {\n    font-size: 1.4rem;\n  }\n  cursor: pointer;\n  transition: all ease 0.2s;\n  border-radius: 5px;\n"]);return z=function(){return a},a}function A(){var a=o(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]);return A=function(){return a},a}function B(){var a=o(["\n  font-size: 1.4rem;\n"]);return B=function(){return a},a}function C(){var a=o(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  gap: 2.5rem;\n"]);return C=function(){return a},a}function D(){var a=o(["\n  min-width: 250px;\n  width: auto;\n  display: flex;\n\n  justify-content: space-between;\n  align-items: center;\n  gap: 50px;\n\n  & > span,\n  & > div {\n    font-size: 1.5rem;\n  }\n"]);return D=function(){return a},a}function E(){var a=o(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  padding-left: 10px;\n"]);return E=function(){return a},a}var F=m.Z.div(p(),n.Eg.desktop,n.Eg.tablet,n.Eg.mobile),G=m.Z.div(q(),n.Wn),H=m.Z.h1(r(),n.EB),I=m.Z.div(s(),n.Eg.desktop,n.Eg.tablet,n.Eg.mobile),J=m.Z.div(t()),K=m.Z.span(u()),L=m.Z.div(v()),M=m.Z.div(w()),N=m.Z.h2(x(),n.EB),O=m.Z.ul(y()),P=m.Z.li(z()),Q=m.Z.div(A()),R=m.Z.span(B()),S=m.Z.div(C()),T=m.Z.div(D()),U=m.Z.div(E());c(5062);var V=c(3035),W=c(9654),X=c(107),Y=c(8712),Z=function(a){var b,c,e,f,g,h,i,j,k,m,n,o,p,q;return(0,d.tZ)(F,{children:(0,d.BX)(G,{children:[(0,d.tZ)(H,{children:"My Page"}),(0,d.BX)(I,{children:[(0,d.BX)(J,{children:[(0,d.tZ)(W.Z,{width:"72px",height:"72px",src:"https://storage.googleapis.com/busker-storage/".concat(null!==(k=null===(b=a.data)|| void 0===b?void 0:b.fetchUser.userImageURL)&& void 0!==k?k:"")}),(0,d.tZ)(K,{children:null!==(m=null===(c=a.data)|| void 0===c?void 0:c.fetchUser.nickname.slice(0,8))&& void 0!==m?m:"유저 이름"})]}),(0,d.BX)(L,{children:[(0,d.tZ)(V.Z,{id:"pick",onClick:a.onClickTab,style:{border:"none"},children:"내가 찜한 아티스트 보기"}),(0,d.tZ)("div",{style:{width:"1px",height:"18px",backgroundColor:"#ddd"}}),(0,d.tZ)(V.Z,{id:"info",onClick:a.onClickTab,style:{border:"none"},children:"내 정보 수정하기"})]}),(0,d.tZ)(l.Z,{style:{marginTop:"5px"}}),a.isEdit?(0,d.BX)(S,{children:[(0,d.BX)(T,{children:[a.userImageURL?(0,d.tZ)(W.Z,{width:"72px",height:"72px",src:"https://storage.googleapis.com/busker-storage/".concat(a.userImageURL)}):(0,d.tZ)(W.Z,{width:"72px",height:"72px",src:"https://storage.googleapis.com/busker-storage/".concat(null===(e=a.data)|| void 0===e?void 0:e.fetchUser.userImageURL)}),(0,d.BX)(V.Z,{type:"file",onClick:a.onClickEditProfileImage,children:["프로필 변경",(0,d.tZ)("input",{type:"file",ref:a.imageRef,style:{opacity:"0",width:"0px"},onChange:a.onChangeImage})]})]}),(0,d.tZ)(T,{children:(0,d.tZ)("span",{children:null!==(n=null===(f=a.data)|| void 0===f?void 0:f.fetchUser.email)&& void 0!==n?n:"유저 이메일"})}),(0,d.tZ)(T,{children:a.isEditMode?(0,d.BX)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,d.tZ)(X.Z,{type:"text",defaultValue:null===(g=a.data)|| void 0===g?void 0:g.fetchUser.nickname,onChange:a.onChangeName}),(0,d.BX)(U,{children:[(0,d.tZ)(Y.Z,{onClick:a.onClickEditName,children:"변경"}),(0,d.tZ)(V.Z,{onClick:a.onToggleEditMode,children:"취소"})]})]}):(0,d.BX)(d.HY,{children:[(0,d.tZ)("span",{children:null!==(o=null===(h=a.data)|| void 0===h?void 0:h.fetchUser.nickname.slice(0,8))&& void 0!==o?o:"유저 이름"}),(0,d.tZ)(V.Z,{onClick:a.onToggleEditMode,children:"닉네임 변경"})]})}),(0,d.tZ)(V.Z,{onClick:a.onClickEditPassword,children:"비밀번호 변경"})]}):(0,d.BX)(M,{children:[(0,d.BX)(N,{children:[null!==(p=null===(i=a.data)|| void 0===i?void 0:i.fetchUser.nickname.slice(0,8))&& void 0!==p?p:"아무개","님이"," ",(0,d.tZ)("span",{children:"찜한"})," 아티스트들이에요!"]}),(0,d.tZ)(O,{children:null===(j=a.data)|| void 0===j?void 0:j.fetchUser.liked_artist.map(function(b){return(0,d.BX)(P,{onClick:a.onClickPickedArtist(b.artist.id),children:[(0,d.BX)(Q,{children:[(0,d.tZ)(W.Z,{width:"4rem",height:"4rem",src:null!==(q=b.artist.artistImageURL)&& void 0!==q?q:""}),(0,d.tZ)(R,{children:b.artist.active_name})]}),(0,d.tZ)(V.Z,{type:"button",onClick:a.onClickPickOff(b.artist.id),children:"찜 해제"})]},b.artist.id)})})]})]})]})})},$=c(2712);function _(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function aa(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function ba(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){aa(f,d,e,g,h,"next",a)}function h(a){aa(f,d,e,g,h,"throw",a)}g(void 0)})}}function ca(a,b){return null!=b&&"undefined"!=typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b}function da(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||ea(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function ea(a,b){if(a){if("string"==typeof a)return _(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _(a,b)}}var fa=function(){var a,b,c=(0,j.useRouter)(),e=(0,k.useRef)(null),l=(0,k.useState)(!1),m=l[0],n=l[1],o=(0,k.useState)(!1),p=o[0],q=o[1],r=(0,k.useState)(""),s=r[0],t=r[1],u=(0,k.useState)(""),v=u[0],w=u[1],x=(0,g.a)($.AW).data,y=da((0,h.D)($.fo),1),z=y[0],A=da((0,h.D)($.AX),1),B=A[0],C=da((0,h.D)($.UE),1),D=C[0],E=(a=ba(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B({variables:{updateUserInput:{nickname:s,userImageURL:v}},refetchQueries:[{query:$.AW},]});case 3:i.Z.success({content:"닉네임이 변경되었습니다."}),n(!1),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),ca(a.t0,Error)&&alert(a.t0.message);case 10:case"end":return a.stop()}},a,null,[[0,7]])})),function(){return a.apply(this,arguments)}),F=(b=ba(f().mark(function a(b){var c,d,e,g,h;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=(d=null===(c=b.target.files)|| void 0===c?void 0:c[0])){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,a.next=8,D({variables:{file:d}});case 8:w(null!==(h=null===(e=(g=a.sent).data)|| void 0===e?void 0:e.uploadFile)&& void 0!==h?h:""),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),ca(a.t0,Error)&&alert(a.t0.message);case 16:case"end":return a.stop()}},a,null,[[4,13]])})),function(a){return b.apply(this,arguments)});return(0,d.tZ)(Z,{onChangeName:function(a){t(a.target.value)},onToggleEditMode:function(){n(function(a){return!a})},onChangeImage:F,onClickEditPassword:function(){c.push("/password/change")},onClickEditName:E,onClickEditProfileImage:function(){var a;return null===(a=e.current)|| void 0===a?void 0:a.click()},imageRef:e,onClickTab:function(a){"pick"===a.currentTarget.id?q(!1):q(!0)},isEdit:p,isEditMode:m,onClickPickOff:function(a){var b;return b=ba(f().mark(function b(c){return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c.stopPropagation(),b.prev=1,b.next=4,z({variables:{status:!0,artistId:a},refetchQueries:[{query:$.AW},]});case 4:b.next=9;break;case 6:b.prev=6,b.t0=b.catch(1),ca(b.t0,Error)&&alert(b.t0.message);case 9:case"end":return b.stop()}},b,null,[[1,6]])})),function(a){return b.apply(this,arguments)}},onClickPickedArtist:function(a){return function(b){c.push("/artistdetail/".concat(a))}},data:x,userImageURL:v})},ga=function(){return(0,d.tZ)(fa,{})}},3035:function(a,b,c){"use strict";var d=c(5944),e=c(166),f=c(3926);function g(){var a,b,c=(a=["\n  border: 1px solid ",";\n  background-color: white;\n  padding: 0.5rem 1.5rem;\n  font-size: 1.4rem;\n  border-radius: 5px;\n  color: ",";\n  cursor: pointer;\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return g=function(){return c},c}b.Z=function(a){return(0,d.tZ)(h,{id:a.id,style:a.style,onClick:a.onClick,children:(0,d.tZ)(d.HY,{children:a.children})})};var h=e.Z.button(g(),f.EB,f.EB)},8712:function(a,b,c){"use strict";var d=c(5944),e=c(166),f=c(3926);function g(){var a,b,c=(a=["\n  border: 1px solid ",";\n  background-color: white;\n  padding: 0.5rem 1.5rem;\n  font-size: 1.4rem;\n  border-radius: 5px;\n  color: white;\n  background-color: ",";\n  cursor: pointer;\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return g=function(){return c},c}b.Z=function(a){return(0,d.tZ)(h,{style:a.style,onClick:a.onClick,children:a.children})};var h=e.Z.button(g(),f.EB,f.EB)},9654:function(a,b,c){"use strict";var d=c(5944),e=c(166);function f(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function g(){var a=f(["\n  border-radius: 50%;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #ddd;\n"]);return g=function(){return a},a}function h(){var a=f(["\n  width: 100%;\n  height: 100%;\n"]);return h=function(){return a},a}b.Z=function(a){return(0,d.tZ)(i,{style:{width:a.width,height:a.height},children:(0,d.tZ)(j,{src:a.src||"/avatar.png"})})};var i=e.Z.div(g()),j=e.Z.img(h())},107:function(a,b,c){"use strict";c.d(b,{Z:function(){return j}});var d=c(5944),e=c(166),f=c(3926);function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(){var a,b,c=(a=["\n  margin: 1rem 0;\n  height: 50px;\n  font-size: 1.5rem;\n  border-radius: 10px;\n  padding: 20px;\n  border: 1px solid #ddd;\n  outline: none;\n  transition: all 0.1s ease-in-out;\n  :focus {\n    border: 1px solid ",";\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return h=function(){return c},c}var i=e.Z.input(h(),f.EB);function j(a){return(0,d.tZ)(i,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){g(a,b,c[b])})}return a}({style:a.style,placeholder:a.placeholder,type:a.type},a.register,{onChange:a.onChange,readOnly:a.readOnly,value:a.value,defaultValue:a.defaultValue}))}}},function(a){a.O(0,[937,928,774,888,179],function(){return a(a.s=8369)}),_N_E=a.O()}])