(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{3693:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main/list/[id]",function(){return c(6479)}])},6479:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return eb}});var d=c(5944),e=c(4051),f=c.n(e),g=c(7887),h=c(319),i=c(1163),j=c(7294),k=c(9735),l=c(4480),m=c(6620),n=c(4393);function o(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var p=function(){var a,b,c=(0,i.useRouter)(),d=(b=1,function(a){if(Array.isArray(a))return a}(a=(0,l.FV)(m.LR))||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||function(a,b){if(a){if("string"==typeof a)return o(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,b)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];(0,j.useEffect)(function(){d||(0,n.h)().then(function(a){a||(alert("로그인 후 이용 가능합니다."),c.push("/login"))})},[])},q=c(6548),r=c(2714),s=c(7049),t=c(9654),u=c(536),v=c(1230);function w(){var a,b,c=(a=["\n  query fetchComment($boardId: String!) {\n    fetchComment(boardId: $boardId) {\n      id\n      content\n      user {\n        id\n        nickname\n        userImageURL\n      }\n    }\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return w=function(){return c},c}var x=(0,v.Ps)(w()),y=c(166),z=c(3926);function A(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function B(){var a=A(["\n  position: relative;\n  width: 100%;\n  height: 150px;\n  display: flex;\n  padding-bottom: 30px;\n"]);return B=function(){return a},a}function C(){var a=A(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-width: 100px;\n"]);return C=function(){return a},a}function D(){var a=A(["\n  text-align: center;\n  font-size: 1.5rem;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  width: 100%;\n"]);return D=function(){return a},a}function E(){var a=A(["\n  flex: 10;\n  width: 100%;\n  height: 100%;\n  border: none;\n  font-size: 1.2rem;\n  padding: 1.5rem;\n  resize: none;\n  background-color: ",";\n  outline: none;\n  border-radius: 10px;\n  word-break: keep-all;\n"]);return E=function(){return a},a}function F(){var a=A(["\n  position: absolute;\n  top: 10px;\n  right: 50px;\n  cursor: pointer;\n  border: none;\n  padding: 0.5rem;\n  background-color: transparent;\n  & * {\n    font-size: 20px;\n  }\n\n  &:hover * {\n    color: ",";\n  }\n"]);return F=function(){return a},a}function G(){var a=A(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n  border: none;\n  padding: 0.5rem;\n  background-color: transparent;\n  & * {\n    font-size: 20px;\n  }\n  &:hover * {\n    color: red;\n  }\n"]);return G=function(){return a},a}var H=y.Z.div(B()),I=y.Z.div(C()),J=y.Z.span(D()),K=y.Z.textarea(E(),function(a){return a.disabled?"#ddd":"#eee"}),L=y.Z.button(F(),z.VT),M=y.Z.button(G()),N=function(a){var b,c,e,f,g,h,i,j,k,l,m,n;return(0,d.BX)(H,{children:[(0,d.BX)(I,{children:[(0,d.tZ)(t.Z,{width:"42px",height:"42px",src:null!==(k=null===(b=a.data)|| void 0===b?void 0:b.user.userImageURL)&& void 0!==k?k:""}),(0,d.tZ)(J,{children:null!==(l=null===(c=a.data)|| void 0===c?void 0:c.user.nickname)&& void 0!==l?l:"익명"})]}),(0,d.tZ)(K,{defaultValue:null===(e=a.data)|| void 0===e?void 0:e.content,value:a.comment?a.comment:null===(f=a.data)|| void 0===f?void 0:f.content,onChange:a.onEditComment,disabled:a.isEdit}),(0,d.tZ)(L,{onClick:null===(h=a.onClickEdit)|| void 0===h?void 0:h.call(a,null!==(m=null===(g=a.data)|| void 0===g?void 0:g.id)&& void 0!==m?m:""),children:(0,d.tZ)(q.Z,{})}),(0,d.tZ)(M,{onClick:null===(j=a.onClickDelete)|| void 0===j?void 0:j.call(a,null!==(n=null===(i=a.data)|| void 0===i?void 0:i.id)&& void 0!==n?n:""),children:(0,d.tZ)(r.Z,{})})]})};function O(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function P(){var a=O(["\n  mutation updateComment($commentId: String!, $content: String!) {\n    updateComment(commentId: $commentId, content: $content) {\n      id\n      content\n    }\n  }\n"]);return P=function(){return a},a}function Q(){var a=O(["\n  mutation deleteComment($commentId: String!) {\n    deleteComment(commentId: $commentId)\n  }\n"]);return Q=function(){return a},a}var R=(0,v.Ps)(P()),S=(0,v.Ps)(Q());function T(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function U(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function V(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){U(f,d,e,g,h,"next",a)}function h(a){U(f,d,e,g,h,"throw",a)}g(void 0)})}}function W(a,b){return null!=b&&"undefined"!=typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b}function X(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||Y(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Y(a,b){if(a){if("string"==typeof a)return T(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return T(a,b)}}var Z=function(a){var b=a.data,c=(0,i.useRouter)(),e=X((0,h.D)(S),1)[0],g=X((0,h.D)(R),1)[0],k=(0,j.useState)(""),l=k[0],m=k[1],n=(0,j.useState)(!0),o=n[0],p=n[1];return(0,d.tZ)(N,{comment:l,data:b,isEdit:o,onClickEdit:function(a){return V(f().mark(function b(){return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(p(function(a){return!a}),o){b.next=10;break}return b.prev=2,b.next=5,g({variables:{content:l,commentId:a},update:function(a){a.modify({fields:function(){}})}});case 5:b.next=10;break;case 7:b.prev=7,b.t0=b.catch(2),W(b.t0,Error)&&alert(b.t0.message);case 10:case"end":return b.stop()}},b,null,[[2,7]])}))},onClickDelete:function(a){return V(f().mark(function b(){return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,e({variables:{commentId:a},refetchQueries:[{query:x,variables:{boardId:c.query.id}},]});case 3:alert("댓글이 삭제되었습니다."),b.next=9;break;case 6:b.prev=6,b.t0=b.catch(0),W(b.t0,Error)&&alert(b.t0.message);case 9:case"end":return b.stop()}},b,null,[[0,6]])}))},onEditComment:function(a){m(a.target.value)}})};function $(){var a,b,c=(a=[""],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return $=function(){return c},c}var _=y.Z.div($()),aa=function(a){var b;return(0,d.tZ)(_,{children:(0,d.tZ)("ul",{style:{paddingTop:"2rem"},children:null===(b=a.data)|| void 0===b?void 0:b.fetchComment.map(function(a,b){return(0,d.tZ)(Z,{data:a},b)})})})},ba=function(a){var b=a.boardId,c=(0,g.a)(x,{variables:{boardId:b}}).data;return console.log(c),(0,d.tZ)(aa,{data:c})},ca=c(8712);function da(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function ea(){var a=da(["\n  position: relative;\n"]);return ea=function(){return a},a}function fa(){var a=da(["\n  width: 100%;\n  height: 100px;\n  resize: none;\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 1rem;\n  font-size: 1.3rem;\n"]);return fa=function(){return a},a}function ga(){var a=da(["\n  position: absolute;\n  right: 10px;\n  top: 60px;\n"]);return ga=function(){return a},a}var ha=y.Z.div(ea()),ia=y.Z.textarea(fa(),z.VT),ja=y.Z.div(ga()),ka=function(a){return(0,d.BX)(ha,{children:[(0,d.tZ)(ia,{placeholder:"후기는 100자 이내로 작성해주세요.",minLength:1,maxLength:100,value:a.comment,onChange:a.onChangeInput}),(0,d.tZ)(ja,{children:(0,d.tZ)(ca.Z,{onClick:a.onClickCreateComment,children:"코멘트 남기기"})})]})};function la(){var a,b,c=(a=["\n  mutation createComment($createCommentInput: CreateCommentInput!) {\n    createComment(createCommentInput: $createCommentInput) {\n      id\n      content\n    }\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return la=function(){return c},c}var ma=(0,v.Ps)(la());function na(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function oa(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function pa(a,b){return null!=b&&"undefined"!=typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b}var qa=function(){var a,b,c,e,g=(0,i.useRouter)(),k=(b=1,function(a){if(Array.isArray(a))return a}(a=(0,h.D)(ma))||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||function(a,b){if(a){if("string"==typeof a)return na(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return na(a,b)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],l=(0,j.useState)(""),m=l[0],n=l[1],o=(c=f().mark(function a(){var b;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(m){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,k({variables:{createCommentInput:{boardId:String(g.query.id),content:m}},update:function(a){a.modify({fields:function(){}})}});case 5:b=a.sent,console.log(b),n(""),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),pa(a.t0,Error)&&alert(a.t0.message);case 13:case"end":return a.stop()}},a,null,[[2,10]])}),e=function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){oa(f,d,e,g,h,"next",a)}function h(a){oa(f,d,e,g,h,"throw",a)}g(void 0)})},function(){return e.apply(this,arguments)});return(0,d.tZ)(ka,{comment:m,onChangeInput:function(a){n(a.target.value)},onClickCreateComment:o})};function ra(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function sa(){var a=ra(["\n  max-width: 1100px;\n  width: 100%;\n  margin: 0 auto;\n\n  @media "," {\n    padding: 0 2rem;\n  }\n  @media "," {\n    padding: 0 1rem;\n  }\n"]);return sa=function(){return a},a}function ta(){var a=ra(["\n  display: block;\n  font-size: 2.5rem;\n  padding: 2rem 1rem;\n\n  & > span {\n    font-size: 2.5rem;\n    color: ",";\n  }\n\n  @media "," {\n    font-size: 2rem;\n    & > span {\n      font-size: 2rem;\n    }\n  }\n"]);return ta=function(){return a},a}function ua(){var a=ra(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  gap: 5%;\n\n  @media "," {\n    flex-direction: column;\n  }\n"]);return ua=function(){return a},a}function va(){var a=ra(["\n  width: 35%;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  @media "," {\n    width: 100%;\n    flex-direction: row;\n    margin-top: 2rem;\n  }\n"]);return va=function(){return a},a}function wa(){var a=ra(["\n  position: relative;\n  min-width: 250px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 20px;\n  @media "," {\n    gap: 5px;\n  }\n  @media "," {\n    flex-direction: column;\n    gap: 0px;\n  }\n"]);return wa=function(){return a},a}function xa(){var a=ra(["\n  font-size: 2rem;\n  width: 120px;\n  text-align: center;\n  margin: 0;\n  cursor: pointer;\n"]);return xa=function(){return a},a}function ya(){var a=ra(["\n  font-size: 1.5rem;\n  margin: 0;\n  padding: 1rem;\n  margin-top: 2rem;\n  background-color: #eee;\n  border-radius: 1rem;\n  word-break: keep-all;\n  overflow: auto;\n  @media "," {\n    margin: 0;\n  }\n"]);return ya=function(){return a},a}function za(){var a=ra(["\n  font-size: 2rem;\n  padding: 0.5rem 2rem;\n\n  & > span {\n    font-size: 2rem;\n    color: ",";\n  }\n\n  background-color: ",";\n  border-radius: 50px;\n  color: white;\n"]);return za=function(){return a},a}function Aa(){var a=ra(["\n  width: 100%;\n  height: 400px;\n"]);return Aa=function(){return a},a}function Ba(){var a=ra(["\n  position: absolute;\n  right: 0;\n  top: -10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n\n  * {\n    font-size: 2rem;\n    cursor: pointer;\n  }\n\n  & > span:nth-of-type(1) {\n    :hover {\n      color: green;\n    }\n  }\n  & > span:nth-of-type(2) {\n    :hover {\n      color: red;\n    }\n  }\n\n  @media "," {\n    right: 20px;\n  }\n"]);return Ba=function(){return a},a}var Ca=y.Z.div(sa(),z.Eg.tablet,z.Eg.mobile),Da=y.Z.span(ta(),z.VT,z.Eg.mobile),Ea=y.Z.div(ua(),z.Eg.mobile),Fa=y.Z.div(va(),z.Eg.mobile),Ga=y.Z.div(wa(),z.Eg.tablet,z.Eg.mobile),Ha=y.Z.h2(xa()),Ia=y.Z.p(ya(),z.Eg.mobile),Ja=y.Z.span(za(),z.VT,z.EB),Ka=y.Z.div(Aa()),La=y.Z.div(Ba(),z.Eg.mobile),Ma=c(6066);function Na(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Oa(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function Pa(){var a=Oa(["\n  width: 60%;\n  @media "," {\n    max-width: 400px;\n    width: 100%;\n    margin: 0 auto;\n  }\n"]);return Pa=function(){return a},a}function Qa(){var a=Oa(["\n  width: 100%;\n  height: 100%;\n  background-color: #ddd;\n  opacity: 0.3;\n  transition: opacity 1s ease;\n"]);return Qa=function(){return a},a}function Ra(){var a=Oa(["\n  height: 400px;\n\n  @media "," {\n    height: 300px;\n  }\n\n  @media "," {\n    height: 200px;\n  }\n"]);return Ra=function(){return a},a}function Sa(){var a=Oa(["\n  .slick-slider {\n    width: 100%;\n  }\n\n  .slick-list {\n    border-radius: 20px;\n    border: 1px solid ",";\n  }\n\n  .slick-track {\n    display: flex;\n    gap: 50px;\n  }\n\n  .slick-slide {\n    flex: 1;\n  }\n\n  .slick-prev::before,\n  .slick-next::before {\n    color: ",";\n  }\n\n  .slick-prev,\n  .slick-next {\n    z-index: 10;\n  }\n\n  .slick-prev {\n    left: 50px;\n  }\n\n  .slick-next {\n    right: 36px;\n  }\n\n  .slick-center img {\n    opacity: 1;\n  }\n"]);return Sa=function(){return a},a}var Ta=function(a){var b;return(0,d.tZ)(Ua,{children:(0,d.tZ)(Xa,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){Na(a,b,c[b])})}return a}({},{className:"center",centerMode:!0,infinite:!0,centerPadding:"60px",slidesToShow:1,speed:500},{children:null===(b=a.data)|| void 0===b?void 0:b.map(function(a,b){return(0,d.tZ)(Wa,{children:(0,d.tZ)(Va,{src:"https://storage.googleapis.com/busker-storage/".concat(String(a.url))})},b)})}))})},Ua=y.Z.div(Pa(),z.Eg.mobile),Va=y.Z.img(Qa()),Wa=y.Z.div(Ra(),z.Eg.tablet,z.Eg.mobile),Xa=(0,y.Z)(Ma.Z)(Sa(),z.EB,z.EB);function Ya(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var Za=function(a){var b,c,e,f,g,h,i,j,k,n,o,p,v,w,x=(c=1,function(a){if(Array.isArray(a))return a}(b=(0,l.FV)(m.LK))||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function(a,b){if(a){if("string"==typeof a)return Ya(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Ya(a,b)}}(b,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,d.BX)(Ca,{children:[(0,d.tZ)(Da,{style:{textAlign:"center",color:"#6600FF",fontSize:"3.5rem",fontWeight:"600"},children:"버스킹 정보"}),(0,d.BX)(Ea,{children:[(0,d.tZ)(Ta,{data:null===(e=a.data)|| void 0===e?void 0:e.fetchBoard.boardImageURL}),(0,d.BX)(Fa,{children:[(0,d.BX)(Ga,{children:[(0,d.tZ)(t.Z,{src:"",width:"75px",height:"75px"}),(0,d.BX)(Ha,{onClick:a.onClickMoveToArtistDetail(null!==(o=null===(f=a.data)|| void 0===f?void 0:f.fetchBoard.artist.id)&& void 0!==o?o:""),children:[(0,d.tZ)("div",{style:{fontSize:"1.5rem",color:"#6600FF"},children:"버스커"}),null===(g=a.data)|| void 0===g?void 0:g.fetchBoard.artist.active_name]}),(0,d.BX)(Ja,{children:["# ",null===(h=a.data)|| void 0===h?void 0:h.fetchBoard.category.name]}),a.isArtist&&(0,d.BX)(La,{children:[(0,d.tZ)(q.Z,{onClick:a.onClickMoveToEdit}),(0,d.tZ)(r.Z,{onClick:a.onClickDelete})]})]}),(0,d.tZ)(Ia,{children:null===(i=a.data)|| void 0===i?void 0:i.fetchBoard.contents})]})]}),(0,d.tZ)(s.Z,{}),(0,d.tZ)(Da,{children:"".concat(null!==(p=null===(j=a.date)|| void 0===j?void 0:j[0])&& void 0!==p?p:"","부터\n          ")}),(0,d.tZ)(Da,{children:"".concat(null!==(v=null===(k=a.date)|| void 0===k?void 0:k[1])&& void 0!==v?v:"","\n          까지\n          진행됩니다!")}),(0,d.tZ)(s.Z,{}),(0,d.BX)(Da,{children:["이번에는 ",(0,d.tZ)("span",{children:"이곳에서"})," 버스킹을 진행해요!"]}),(0,d.tZ)(Ka,{children:(0,d.tZ)(u.Z,{position:x,isMap:!1,address:null!==(w=null===(n=a.data)|| void 0===n?void 0:n.fetchBoard.boardAddress.address)&& void 0!==w?w:""})}),(0,d.tZ)(s.Z,{}),(0,d.BX)(Da,{children:["버스킹에 대한 ",(0,d.tZ)("span",{children:"후기"}),"를 남겨주세요!"]}),(0,d.tZ)(qa,{}),(0,d.tZ)(ba,{boardId:String(a.routerId)})]})},$a=c(7704);function _a(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function ab(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function bb(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){ab(f,d,e,g,h,"next",a)}function h(a){ab(f,d,e,g,h,"throw",a)}g(void 0)})}}function cb(a,b){return null!=b&&"undefined"!=typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b}var db=function(){p();var a=(0,i.useRouter)(),b=(0,j.useState)(["",""]),c=b[0],e=b[1],l=(0,j.useState)(!1),m=l[0],n=l[1],o=(0,g.a)($a.WN),q=o.data,r=(0,g.a)($a.uw,{variables:{boardId:String(a.query.id)}}),s=r.data;console.log("fetchArtist:",null==q?void 0:q.fetchArtist.id),console.log("fetchBoard:",null==s?void 0:s.fetchBoard.artist.id),console.log(m);var t,u,v=(u=1,function(a){if(Array.isArray(a))return a}(t=(0,h.D)($a.TU))||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(t,u)||function(a,b){if(a){if("string"==typeof a)return _a(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _a(a,b)}}(t,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=v[0];(0,j.useEffect)(function(){e([(0,k.Z)(null==s?void 0:s.fetchBoard.start_time),(0,k.Z)(null==s?void 0:s.fetchBoard.end_time),]),(null==q?void 0:q.fetchArtist.id)===(null==s?void 0:s.fetchBoard.artist.id)?n(!0):n(!1)},[s,q]);var x,y,z=(x=bb(f().mark(function b(){return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a.push("./".concat(String(a.query.id),"/edit"));case 2:case"end":return b.stop()}},b)})),function(){return x.apply(this,arguments)}),A=(y=bb(f().mark(function b(){return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,w({variables:{boardId:String(a.query.id)}});case 3:return alert("버스킹 정보가 삭제되었습니다."),b.next=6,a.push("/main/list");case 6:b.next=11;break;case 8:b.prev=8,b.t0=b.catch(0),cb(b.t0,Error)&&alert(b.t0.message);case 11:case"end":return b.stop()}},b,null,[[0,8]])})),function(){return y.apply(this,arguments)});return(0,d.tZ)(Za,{onClickMoveToArtistDetail:function(b){return function(){a.push("/artistdetail/".concat(b))}},onClickMoveToEdit:z,onClickDelete:A,isArtist:m,data:s,date:c,routerId:a.query.id})},eb=function(){return(0,d.tZ)(db,{})}},9735:function(a,b){"use strict";b.Z=function(a){if(Number.isNaN(new Date(a).getTime()))return"";var b=new Date(a);return b.setHours(b.getHours()-9),console.log(b),Intl.DateTimeFormat("ko-KR",{dateStyle:"full",timeStyle:"long"}).format(b).slice(5,-8)}},8712:function(a,b,c){"use strict";var d=c(5944),e=c(166),f=c(3926);function g(){var a,b,c=(a=["\n  border: 1px solid ",";\n  background-color: white;\n  padding: 0.5rem 1.5rem;\n  font-size: 1.4rem;\n  border-radius: 5px;\n  color: white;\n  background-color: ",";\n  cursor: pointer;\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return g=function(){return c},c}b.Z=function(a){return(0,d.tZ)(h,{style:a.style,onClick:a.onClick,children:a.children})};var h=e.Z.button(g(),f.EB,f.EB)},9654:function(a,b,c){"use strict";var d=c(5944),e=c(166);function f(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function g(){var a=f(["\n  border-radius: 50%;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #ddd;\n"]);return g=function(){return a},a}function h(){var a=f(["\n  width: 100%;\n  height: 100%;\n"]);return h=function(){return a},a}b.Z=function(a){return(0,d.tZ)(i,{style:{width:a.width,height:a.height},children:(0,d.tZ)(j,{src:a.src||"/avatar.png"})})};var i=e.Z.div(g()),j=e.Z.img(h())},536:function(a,b,c){"use strict";var d=c(4051),e=c.n(d),f=c(5944),g=c(7294),h=c(8356),i=c(9654),j=c(7937),k=c(1163),l=c(166);function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(){var a,b,c=(a=["\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  background-color: red;\n\n  animation: flicker 1.5s infinite;\n\n  @keyframes flicker {\n    0% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return n=function(){return c},c}b.Z=function(a){var b=a.position,c=a.address,d=a.isMap,l=a.setValue,n=a.data,p=(0,k.useRouter)(),q=(0,g.useState)([]),r=q[0],s=q[1],t=(0,g.useState)({lat:null==b?void 0:b.lat,lng:null==b?void 0:b.lng}),u=t[0],v=t[1],w=function(a){return function(){s(function(b){return b.map(function(b,c){return c===a?!b:b})})}};(0,g.useEffect)(function(){kakao.maps.load(function(){d||new kakao.maps.services.Geocoder().addressSearch(c,function(a,b){if(b===kakao.maps.services.Status.OK){var c=a[0];v({lat:c.y,lng:c.x}),null==l||l("boardAddressInput.lat",Number(c.y)),null==l||l("boardAddressInput.lng",Number(c.x))}})}),n&&s(new Array(n.fetchMapBoards.length).fill(!1))},[b,c,d,l,n]);var x=function(a){var b;return b=e().mark(function b(){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,p.push("/main/list/".concat(a));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}};return(0,f.tZ)(h.D5,{center:{lat:c?Number(u.lat):Number(null==b?void 0:b.lat),lng:c?Number(u.lng):Number(null==b?void 0:b.lng)},style:{width:"100%",height:"100%",margin:"0 auto"},level:window.outerWidth>1e3?4:5,zoomable:!1,children:c?(0,f.tZ)(h.O_,{position:{lat:Number(u.lat),lng:Number(u.lng)}}):(0,f.BX)(f.HY,{children:[(0,f.BX)(h.le,{position:{lat:Number(null==b?void 0:b.lat),lng:Number(null==b?void 0:b.lng)},clickable:!1,children:[(0,f.tZ)(o,{}),(0,f.tZ)("span",{style:{color:"red",fontWeight:"bold",position:"relative",left:"-20px",fontSize:"1.5rem",cursor:"none"},children:"현재 위치"})]}),null==n?void 0:n.fetchMapBoards.map(function(a,b){var c={lat:a.boardAddress.lat,lng:a.boardAddress.lng},d=new Intl.DateTimeFormat("ko-KR",{hour:"numeric",minute:"numeric"}).format(new Date(a.start_time)),e=new Intl.DateTimeFormat("ko-KR",{hour:"numeric",minute:"numeric"}).format(new Date(a.end_time));return(0,f.BX)("div",{children:[(0,f.tZ)(h.O_,{position:c,onClick:w(b)}),r[b]&&(0,f.tZ)(h.le,{position:c,zIndex:99,children:(0,f.tZ)("div",{className:"wrap",children:(0,f.BX)("div",{className:"info",children:[(0,f.BX)("div",{className:"title",children:[a.artist.active_name,(0,f.tZ)("div",{className:"close",onClick:w(b),title:"닫기",children:(0,f.tZ)(j.Z,{})})]}),(0,f.BX)("div",{className:"body",children:[(0,f.tZ)("div",{className:"img",children:(0,f.tZ)(i.Z,{width:"75px",height:"75px",src:""})}),(0,f.BX)("div",{className:"desc",children:[(0,f.BX)("div",{className:"ellipsis",children:["# ",a.category.name]}),(0,f.BX)("div",{className:"jibun ellipsis",children:["시작: ",d]}),(0,f.BX)("div",{className:"jibun ellipsis",children:["종료: ",e]}),(0,f.tZ)("span",{className:"link",title:"",onClick:x(a.id),children:"버스킹 정보 보러가기"})]})]})]})})})]},b)})]})})};var o=l.Z.div(n())},7704:function(a,b,c){"use strict";c.d(b,{uw:function(){return i},TU:function(){return j},WN:function(){return k}});var d=c(1230);function e(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function f(){var a=e(["\n  query fetchBoard($boardId: String!) {\n    fetchBoard(boardId: $boardId) {\n      id\n      title\n      contents\n      start_time\n      end_time\n      isShowTime\n      createAt\n      category {\n        id\n        name\n      }\n      artist {\n        id\n        active_name\n        artistImageURL\n      }\n      boardAddress {\n        id\n        address\n        address_city\n        address_district\n        lat\n        lng\n      }\n      boardImageURL {\n        id\n        url\n      }\n    }\n  }\n"]);return f=function(){return a},a}function g(){var a=e(["\n  mutation deleteBoard($boardId: String!) {\n    deleteBoard(boardId: $boardId)\n  }\n"]);return g=function(){return a},a}function h(){var a=e(["\n  query {\n    fetchArtist {\n      id\n    }\n  }\n"]);return h=function(){return a},a}var i=(0,d.Ps)(f()),j=(0,d.Ps)(g()),k=(0,d.Ps)(h())}},function(a){a.O(0,[937,33,356,817,774,888,179],function(){return a(a.s=3693)}),_N_E=a.O()}])