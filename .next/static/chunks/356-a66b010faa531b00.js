"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[356],{8356:function(a,b,c){c.d(b,{le:function(){return Q},D5:function(){return I},O_:function(){return O}});var d,e,f=c(7294),g=c(3935);function h(){return(h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function i(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)b.indexOf(c=f[d])>=0||(e[c]=a[c]);return e}const j="undefined"!=typeof window&&"undefined"!=typeof document?f.useLayoutEffect:f.useEffect,k=(a,b,c)=>{j(()=>{if(!a||!c)return;const d=(...b)=>void 0===b?c(a):c(a,...b);return kakao.maps.event.addListener(a,b,d),()=>{kakao.maps.event.removeListener(a,b,d)}},[a,b,c])};(d=e||(e={}))[d.INITIALIZED=0]="INITIALIZED",d[d.LOADING=1]="LOADING",d[d.SUCCESS=2]="SUCCESS",d[d.FAILURE=3]="FAILURE";class l{constructor({appkey:m,id:n="__reactKakaoMapsSdkloaderId",libraries:o=[],nonce:p,retries:q=3,url:r="//dapi.kakao.com/v2/maps/sdk.js"}){if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=n,this.appkey=m,this.libraries=o,this.nonce=p,this.retries=q,this.url=r,l.instance){if(!l.equalOptions(this.options,l.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(l.instance.options)}`);return l.instance}l.instance=this}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static isLoaded(){return new Promise(a=>l.instance?l.instance.status===e.FAILURE||l.instance.status===e.INITIALIZED?a(!1):(l.instance.status===e.LOADING&&l.loadcheckcallbacks.push(b=>a(!b)),a(!0)):window.kakao&&window.kakao.maps?window.kakao.maps.load(()=>{a(!0)}):l.loadcheckcallbacks.push(b=>{a(!b)}))}load(){return new Promise((a,b)=>{this.loadCallback(c=>{c?b(c.error):a(window.kakao)})})}get status(){return this.onerrorEvent?e.FAILURE:this.done?e.SUCCESS:this.loading?e.LOADING:e.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(s){this.callbacks.push(s),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();const t=this.createUrl(),u=document.createElement("script");u.id=this.id,u.type="text/javascript",u.src=t,u.onerror=this.loadErrorCallback.bind(this),u.onload=this.callback.bind(this),u.defer=!0,u.async=!0,this.nonce&&(u.nonce=this.nonce),document.head.appendChild(u)}loadErrorCallback(v,w,x,y,z){if(this.errors.push({event:v,source:w,lineno:x,colno:y,error:z}),this.errors.length<=this.retries){const A=this.errors.length*2**this.errors.length;console.log(`Failed to load Kakao Maps script, retrying in ${A} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},A)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()}createUrl(){let B=this.url;return B+=`?appkey=${this.appkey}`,this.libraries.length&&(B+=`&libraries=${this.libraries.join(",")}`),B+="&autoload=false"}deleteScript(){const C=document.getElementById(this.id);C&&C.remove()}callback(){kakao.maps.load(()=>{this.done=!0,this.loading=!1,this.callbacks.forEach(a=>{a(this.onerrorEvent)}),this.callbacks=[],l.loadcheckcallbacks.forEach(a=>{a(this.onerrorEvent)}),l.loadcheckcallbacks=[]})}static equalOptions(D,E){if(D.appkey!==E.appkey)return!1;if(D.id!==E.id)return!1;if(D.libraries.length!==E.libraries.length)return!1;for(let F=0;F<D.libraries.length;++F)if(D.libraries[F]!==E.libraries[F])return!1;return D.nonce===E.nonce&&D.retries===E.retries&&D.url===E.url}}l.instance=void 0,l.loadcheckcallbacks=[],({type:a})=>{const b=J("MapTypeId");return t(()=>(b.addOverlayMapTypeId(a),()=>{b.removeOverlayMapTypeId(a)}),[b,a]),null};const G=["id","as","children","center","isPanto","padding","disableDoubleClick","disableDoubleClickZoom","draggable","zoomable","keyboardShortcuts","level","maxLevel","minLevel","mapTypeId","projectionId","scrollwheel","tileAnimation","onBoundsChanged","onCenterChanged","onClick","onDoubleClick","onDrag","onDragEnd","onDragStart","onIdle","onMaptypeidChanged","onMouseMove","onRightClick","onTileLoaded","onZoomChanged","onZoomStart","onCreate"],H=f.createContext(void 0),I=f.forwardRef((a,b)=>{let{id:c,as:d,children:e,center:g,isPanto:m=!1,padding:n=32,disableDoubleClick:o,disableDoubleClickZoom:p,draggable:q,zoomable:r,keyboardShortcuts:s,level:t,maxLevel:u,minLevel:v,mapTypeId:w,projectionId:x,scrollwheel:y,tileAnimation:z,onBoundsChanged:A,onCenterChanged:B,onClick:C,onDoubleClick:D,onDrag:E,onDragEnd:F,onDragStart:I,onIdle:J,onMaptypeidChanged:K,onMouseMove:L,onRightClick:M,onTileLoaded:N,onZoomChanged:O,onZoomStart:P,onCreate:Q}=a,R=i(a,G);const[S,T]=(0,f.useState)(!1),[U,V]=(0,f.useState)(),W=(0,f.useRef)(null);return j(()=>{l.isLoaded().then(T)},[]),j(()=>{if(!S)return;const a=W.current;if(!a)return;const b="lat"in g?new kakao.maps.LatLng(g.lat,g.lng):new kakao.maps.Coords(g.x,g.y),c=new kakao.maps.Map(a,{center:b,disableDoubleClick:o,disableDoubleClickZoom:p,draggable:q,keyboardShortcuts:s,level:t,mapTypeId:w,projectionId:x,scrollwheel:y,tileAnimation:z});return V(c),()=>{a.innerHTML=""}},[S,o,p,w,z]),(0,f.useImperativeHandle)(b,()=>U,[U]),j(()=>{U&&Q&&Q(U)},[U,Q]),j(()=>{if(!U)return;let a=U.getCenter();a instanceof kakao.maps.Coords&&(a=a.toLatLng());const b="lat"in g?new kakao.maps.LatLng(g.lat,g.lng):new kakao.maps.Coords(g.x,g.y);b instanceof kakao.maps.LatLng&&b.equals(a)||b instanceof kakao.maps.Coords&&b.toLatLng().equals(a)||(m?U.panTo(b,n):U.setCenter(b))},[U,g.lat,g.lng,g.x,g.y]),j(()=>{U&& void 0!==q&&U.setDraggable(q)},[U,q]),j(()=>{U&& void 0!==r&&U.setZoomable(r)},[U,r]),j(()=>{U&&s&&"boolean"==typeof s&&U.setKeyboardShortcuts(s)},[U,s]),j(()=>{U&&t&&U.setLevel(t)},[U,t]),j(()=>{U&&w&&U.setMapTypeId(w)},[U,w]),j(()=>{U&&x&&U.setProjectionId(x)},[U,x]),j(()=>{U&&u&&U.setMaxLevel(u)},[U,u]),j(()=>{U&&v&&U.setMinLevel(v)},[U,v]),k(U,"bounds_changed",A),k(U,"center_changed",B),k(U,"click",C),k(U,"dblclick",D),k(U,"drag",E),k(U,"dragstart",I),k(U,"dragend",F),k(U,"idle",J),k(U,"maptypeid_changed",K),k(U,"mousemove",L),k(U,"rightclick",M),k(U,"tilesloaded",N),k(U,"zoom_changed",O),k(U,"zoom_start",P),f.createElement(f.Fragment,null,f.createElement(d||"div",h({id:c||"react-kakao-maps-sdk-map-container"},R,{ref:W})),U&&f.createElement(H.Provider,{value:U},e))}),J=a=>{const b=(0,f.useContext)(H);if(!b)throw new Error((a?a+" Component":"useMap")+" must exist inside Map Component!");return b},K=f.forwardRef(({map:a,position:b,marker:c,children:d,altitude:e,disableAutoPan:h,range:i,removable:j,zIndex:k,onCreate:l},m)=>{const n=(0,f.useRef)(document.createElement("div")),o=(0,f.useMemo)(()=>{const a=new kakao.maps.InfoWindow({altitude:e,disableAutoPan:h,range:i,removable:j,zIndex:k,content:n.current,position:b});return n.current.style.display="none",a},[h,j]);return(0,f.useImperativeHandle)(m,()=>o,[o]),(0,f.useLayoutEffect)(()=>(o.open(a,c),()=>{o.close()}),[a,c]),(0,f.useLayoutEffect)(()=>{l&&l(o)},[o,l]),(0,f.useLayoutEffect)(()=>{o&&o.setPosition(b)},[o,b]),(0,f.useLayoutEffect)(()=>{o&&e&&o.setAltitude(e)},[o,e]),(0,f.useLayoutEffect)(()=>{o&&i&&o.setRange(i)},[o,i]),(0,f.useLayoutEffect)(()=>{o&&k&&o.setZIndex(k)},[o,k]),n.current.parentElement&&g.createPortal(d,n.current.parentElement)}),L=f.createContext(void 0),M=f.forwardRef(({children:a,averageCenter:b,calculator:c,clickable:d,disableClickZoom:e,gridSize:g,hoverable:h,minClusterSize:i,minLevel:j,styles:l,texts:m,onClusterclick:n,onClusterdblclick:o,onClustered:p,onClusterout:q,onClusterover:r,onClusterrightclick:s,onCreate:t},u)=>{const v=J("MarkerClusterer"),w=(0,f.useMemo)(()=>{if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:b,calculator:c,clickable:d,disableClickZoom:e,gridSize:g,hoverable:h,minClusterSize:i,minLevel:j,styles:l,texts:m});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return(0,f.useImperativeHandle)(u,()=>w,[w]),(0,f.useLayoutEffect)(()=>{null==w||w.setMap(v)},[v,w]),(0,f.useLayoutEffect)(()=>{w&&t&&t(w)},[w,t]),(0,f.useLayoutEffect)(()=>{w&&g&&(w.setGridSize(g),w.redraw())},[w,g]),(0,f.useLayoutEffect)(()=>{w&&i&&(w.setMinClusterSize(i),w.redraw())},[w,i]),(0,f.useLayoutEffect)(()=>{w&& void 0!==b&&(w.setAverageCenter(b),w.redraw())},[w,b]),(0,f.useLayoutEffect)(()=>{w&&j&&(w.setMinLevel(j),w.redraw())},[w,j]),(0,f.useLayoutEffect)(()=>{w&&m&&(w.setTexts(m),w.redraw())},[w,m]),(0,f.useLayoutEffect)(()=>{w&&c&&(w.setCalculator(c),w.redraw())},[w,c]),(0,f.useLayoutEffect)(()=>{w&&l&&(w.setStyles(l),w.redraw())},[w,l]),k(w,"clusterclick",n),k(w,"clusterover",r),k(w,"clusterout",q),k(w,"clusterdblclick",o),k(w,"clusterrightclick",s),k(w,"clustered",p),w?f.createElement(L.Provider,{value:w},a):null}),N=f.forwardRef(({map:a,position:b,children:c,altitude:d,clickable:e,draggable:g,image:h,infoWindowOptions:i,onCreate:j,onClick:l,onDragEnd:m,onDragStart:n,onMouseOut:o,onMouseOver:p,opacity:q,range:r,title:s,zIndex:t},u)=>{const v=(0,f.useContext)(L),w=(0,f.useMemo)(()=>new kakao.maps.Marker({altitude:d,clickable:e,draggable:g,image:h,opacity:q,range:r,title:s,zIndex:t,position:b}),[]);return(0,f.useImperativeHandle)(u,()=>w,[w]),(0,f.useLayoutEffect)(()=>(v?v.addMarker(w):w.setMap(a),()=>{v?v.removeMarker(w):w.setMap(null)}),[a,v,w]),(0,f.useLayoutEffect)(()=>{j&&j(w)},[w,j]),k(w,"click",l),k(w,"dragstart",n),k(w,"dragend",m),k(w,"mouseout",o),k(w,"mouseover",p),(0,f.useLayoutEffect)(()=>{a&&w&&b&&w.setPosition(b)},[a,w,b]),(0,f.useLayoutEffect)(()=>{a&&w&&h&&w.setImage(h)},[a,w,h]),(0,f.useLayoutEffect)(()=>{a&&w&&d&&w.setAltitude(d)},[a,w,d]),(0,f.useLayoutEffect)(()=>{a&&w&& void 0!==e&&w.setClickable(e)},[a,w,e]),(0,f.useLayoutEffect)(()=>{a&&w&& void 0!==g&&w.setDraggable(g)},[a,w,g]),(0,f.useLayoutEffect)(()=>{a&&w&&q&&w.setOpacity(q)},[a,w,q]),(0,f.useLayoutEffect)(()=>{a&&w&&r&&w.setRange(r)},[a,w,r]),(0,f.useLayoutEffect)(()=>{a&&w&&s&&w.setTitle(s)},[a,w,s]),(0,f.useLayoutEffect)(()=>{a&&w&&t&&w.setZIndex(t)},[a,w,t]),c?f.createElement(K,{position:b,map:a,marker:w,altitude:null==i?void 0:i.altitude,disableAutoPan:null==i?void 0:i.disableAutoPan,range:null==i?void 0:i.range,removable:null==i?void 0:i.removable,zIndex:null==i?void 0:i.zIndex},c):null}),O=f.forwardRef(({image:a,position:b,children:c,clickable:d,draggable:e,infoWindowOptions:g,onClick:h,onDragEnd:i,onDragStart:j,onMouseOut:k,onMouseOver:l,onCreate:m,opacity:n,title:o,zIndex:p},q)=>{const r=J("MapMarker"),s=(0,f.useMemo)(()=>{var b,c,d,e,f,g,h,i,j,k,l,m;return a&&new kakao.maps.MarkerImage(a.src,new kakao.maps.Size(a.size.width,a.size.height),{alt:null==(b=a.options)?void 0:b.alt,coords:null==(c=a.options)?void 0:c.coords,offset:(null==(d=a.options)?void 0:d.offset)&&new kakao.maps.Point(null==(e=a.options)?void 0:e.offset.x,null==(f=a.options)?void 0:f.offset.y),shape:null==(g=a.options)?void 0:g.shape,spriteOrigin:(null==(h=a.options)?void 0:h.spriteOrigin)&&new kakao.maps.Point(null==(i=a.options)?void 0:i.spriteOrigin.x,null==(j=a.options)?void 0:j.spriteOrigin.y),spriteSize:(null==(k=a.options)?void 0:k.spriteSize)&&new kakao.maps.Size(null==(l=a.options)?void 0:l.spriteSize.width,null==(m=a.options)?void 0:m.spriteSize.height)})},[a]),t=(0,f.useMemo)(()=>"lat"in b?new kakao.maps.LatLng(b.lat,b.lng):new kakao.maps.Coords(b.x,b.y).toLatLng(),[b.lat,b.lng,b.x,b.y]);return f.createElement(N,{map:r,position:t,image:s,clickable:d,draggable:e,infoWindowOptions:g,onClick:h,onDragEnd:i,onDragStart:j,onMouseOut:k,onMouseOver:l,onCreate:m,opacity:n,title:o,zIndex:p,ref:q},c)}),P=f.forwardRef(({position:a,children:b,disableAutoPan:c,removable:d,zIndex:e,onCreate:g},h)=>{const i=J("MapInfoWindow"),j=(0,f.useMemo)(()=>new kakao.maps.LatLng(a.lat,a.lng),[a.lat,a.lng]);return f.createElement(K,{disableAutoPan:c,removable:d,zIndex:e,map:i,position:j,onCreate:g,ref:h},b)}),Q=f.forwardRef(({position:a,children:b,clickable:c,xAnchor:d,yAnchor:e,zIndex:h,onCreate:i},j)=>{const k=(0,f.useContext)(L),l=J("CustomOverlayMap"),m=(0,f.useRef)(document.createElement("div")),n=(0,f.useMemo)(()=>new kakao.maps.LatLng(a.lat,a.lng),[a.lat,a.lng]),o=(0,f.useMemo)(()=>{const a=new kakao.maps.CustomOverlay({clickable:c,xAnchor:d,yAnchor:e,zIndex:h,position:n,content:m.current});return m.current.style.display="none",a},[c,d,e]);return(0,f.useImperativeHandle)(j,()=>o,[o]),(0,f.useLayoutEffect)(()=>{if(l)return k?k.addMarker(o):o.setMap(l),()=>{k?k.removeMarker(o):o.setMap(null)}},[l,k,o]),(0,f.useLayoutEffect)(()=>{i&&i(o)},[o,i]),(0,f.useLayoutEffect)(()=>{o.setPosition(n)},[o,n]),(0,f.useLayoutEffect)(()=>{h&&o.setZIndex(h)},[o,h]),m.current.parentElement&&g.createPortal(b,m.current.parentElement)}),R=f.forwardRef(({position:a=kakao.maps.ControlPosition.TOPRIGHT},b)=>{const c=J("MapTypeControl"),d=(0,f.useMemo)(()=>new kakao.maps.MapTypeControl,[]);return(0,f.useImperativeHandle)(b,()=>d,[d]),(0,f.useLayoutEffect)(()=>(c.addControl(d,a),()=>{c.removeControl(d)}),[c,d,a]),null}),S=f.forwardRef(({position:a=kakao.maps.ControlPosition.RIGHT},b)=>{const c=J("ZoomControl"),d=(0,f.useMemo)(()=>new kakao.maps.ZoomControl,[]);return(0,f.useImperativeHandle)(b,()=>d,[d]),(0,f.useEffect)(()=>(c.addControl(d,a),()=>{c.removeControl(d)}),[c,a]),null}),T=f.forwardRef(({center:a,radius:b,fillColor:c,fillOpacity:d,strokeColor:e,strokeOpacity:g,strokeStyle:h,strokeWeight:i,zIndex:j,onMouseover:l,onMouseout:m,onMousemove:n,onMousedown:o,onClick:p,onCreate:q},r)=>{const s=J("Circle"),t=(0,f.useMemo)(()=>new kakao.maps.LatLng(a.lat,a.lng),[a.lat,a.lng]),u=(0,f.useMemo)(()=>new kakao.maps.Circle({center:t,radius:b,fillColor:c,fillOpacity:d,strokeColor:e,strokeOpacity:g,strokeStyle:h,strokeWeight:i,zIndex:j}),[]);return(0,f.useImperativeHandle)(r,()=>u,[u]),(0,f.useLayoutEffect)(()=>(u.setMap(s),()=>{u.setMap(null)}),[s,u]),(0,f.useLayoutEffect)(()=>{q&&q(u)},[u,q]),(0,f.useLayoutEffect)(()=>{u&&u.setPosition(t)},[u,t]),(0,f.useLayoutEffect)(()=>{u.setRadius(b)},[u,b]),(0,f.useLayoutEffect)(()=>{j&&u.setZIndex(j)},[u,j]),(0,f.useLayoutEffect)(()=>{u.setOptions({fillColor:c,fillOpacity:d,strokeColor:e,strokeOpacity:g,strokeStyle:h,strokeWeight:i})},[u,c,d,e,g,h,i]),k(u,"mouseover",l),k(u,"mouseout",m),k(u,"mousemove",n),k(u,"mousedown",o),k(u,"click",p),null}),U=f.forwardRef(({path:a,endArrow:b,onClick:c,onMousedown:d,onMousemove:e,onMouseout:g,onMouseover:h,onCreate:i,strokeColor:j,strokeOpacity:l,strokeStyle:m,strokeWeight:n,zIndex:o},p)=>{const q=J("Polyline"),r=(0,f.useMemo)(()=>a.every(a=>a instanceof Array)?a.map(a=>a.map(a=>new kakao.maps.LatLng(a.lat,a.lng))):a.map(a=>new kakao.maps.LatLng(a.lat,a.lng)),[a]),s=(0,f.useMemo)(()=>new kakao.maps.Polyline({path:r,endArrow:b,strokeColor:j,strokeOpacity:l,strokeStyle:m,strokeWeight:n,zIndex:o}),[]);return(0,f.useImperativeHandle)(p,()=>s,[s]),(0,f.useLayoutEffect)(()=>(s.setMap(q),()=>s.setMap(null)),[q,s]),(0,f.useLayoutEffect)(()=>{i&&i(s)},[s,i]),(0,f.useLayoutEffect)(()=>{s.setOptions({endArrow:b,strokeColor:j,strokeOpacity:l,strokeStyle:m,strokeWeight:n})},[s,b,j,l,m,n]),(0,f.useLayoutEffect)(()=>{s.setPath(r)},[s,r]),(0,f.useLayoutEffect)(()=>{o&&s.setZIndex(o)},[s,o]),k(s,"mouseover",h),k(s,"mouseout",g),k(s,"mousemove",e),k(s,"mousedown",d),k(s,"click",c),null}),V=f.forwardRef(({path:a,onClick:b,onMousedown:c,onMousemove:d,onMouseout:e,onMouseover:g,onCreate:h,strokeColor:i,strokeOpacity:j,strokeStyle:l,strokeWeight:m,fillColor:n,fillOpacity:o,zIndex:p},q)=>{const r=J("Polygon"),s=(0,f.useMemo)(()=>a.every(a=>a instanceof Array)?a.map(a=>a.map(a=>new kakao.maps.LatLng(a.lat,a.lng))):a.map(a=>new kakao.maps.LatLng(a.lat,a.lng)),[a]),t=(0,f.useMemo)(()=>new kakao.maps.Polygon({path:s,fillColor:n,fillOpacity:o,strokeColor:i,strokeOpacity:j,strokeStyle:l,strokeWeight:m,zIndex:p}),[]);return(0,f.useImperativeHandle)(q,()=>t,[t]),(0,f.useLayoutEffect)(()=>(t.setMap(r),()=>t.setMap(null)),[r,t]),(0,f.useLayoutEffect)(()=>{h&&h(t)},[t,h]),(0,f.useLayoutEffect)(()=>{t.setOptions({fillColor:n,fillOpacity:o,strokeColor:i,strokeOpacity:j,strokeStyle:l,strokeWeight:m})},[t,n,o,i,j,l,m]),(0,f.useLayoutEffect)(()=>{t.setPath(s)},[t,s]),(0,f.useLayoutEffect)(()=>{p&&t.setZIndex(p)},[t,p]),k(t,"mouseover",g),k(t,"mouseout",e),k(t,"mousemove",d),k(t,"mousedown",c),k(t,"click",b),null}),W=f.forwardRef(({bounds:a,onClick:b,onMousedown:c,onMousemove:d,onMouseout:e,onMouseover:g,onCreate:h,strokeColor:i,strokeOpacity:j,strokeStyle:l,strokeWeight:m,fillColor:n,fillOpacity:o,zIndex:p},q)=>{const r=J("Rectangle"),s=(0,f.useMemo)(()=>new kakao.maps.LatLngBounds(new kakao.maps.LatLng(a.sw.lat,a.sw.lng),new kakao.maps.LatLng(a.ne.lat,a.ne.lng)),[a]),t=(0,f.useMemo)(()=>new kakao.maps.Rectangle({bounds:s,fillColor:n,fillOpacity:o,strokeColor:i,strokeOpacity:j,strokeStyle:l,strokeWeight:m,zIndex:p}),[]);return(0,f.useImperativeHandle)(q,()=>t,[t]),(0,f.useLayoutEffect)(()=>(t.setMap(r),()=>t.setMap(null)),[r,t]),(0,f.useLayoutEffect)(()=>{h&&h(t)},[t,h]),(0,f.useLayoutEffect)(()=>{t.setOptions({fillColor:n,fillOpacity:o,strokeColor:i,strokeOpacity:j,strokeStyle:l,strokeWeight:m})},[t,n,o,i,j,l,m]),(0,f.useLayoutEffect)(()=>{t.setBounds(s)},[t,s]),(0,f.useLayoutEffect)(()=>{p&&t.setZIndex(p)},[t,p]),k(t,"mouseover",g),k(t,"mouseout",e),k(t,"mousemove",d),k(t,"mousedown",c),k(t,"click",b),null}),X=f.forwardRef(({center:a,rx:b,ry:c,fillColor:d,fillOpacity:e,strokeColor:g,strokeOpacity:h,strokeStyle:i,strokeWeight:j,zIndex:l,onMouseover:m,onMouseout:n,onMousemove:o,onMousedown:p,onClick:q,onCreate:r},s)=>{const t=J("Ellipse"),u=(0,f.useMemo)(()=>new kakao.maps.LatLng(a.lat,a.lng),[a.lat,a.lng]),v=(0,f.useMemo)(()=>new kakao.maps.Ellipse({center:u,rx:b,ry:c,fillColor:d,fillOpacity:e,strokeColor:g,strokeOpacity:h,strokeStyle:i,strokeWeight:j,zIndex:l}),[]);return(0,f.useImperativeHandle)(s,()=>v,[v]),(0,f.useLayoutEffect)(()=>(v.setMap(t),()=>{v.setMap(null)}),[t,v]),(0,f.useLayoutEffect)(()=>{r&&r(v)},[v,r]),(0,f.useLayoutEffect)(()=>{v&&v.setPosition(u)},[v,u]),(0,f.useLayoutEffect)(()=>{v.setRadius(b,c)},[v,b,c]),(0,f.useLayoutEffect)(()=>{l&&v.setZIndex(l)},[v,l]),(0,f.useLayoutEffect)(()=>{v.setOptions({fillColor:d,fillOpacity:e,strokeColor:g,strokeOpacity:h,strokeStyle:i,strokeWeight:j})},[v,d,e,g,h,i,j]),k(v,"mouseover",m),k(v,"mouseout",n),k(v,"mousemove",o),k(v,"mousedown",p),k(v,"click",q),null}),Y=f.forwardRef(({draw:a,onAdd:b,onRemove:c,onCreate:d},e)=>{const g=J(),h=(0,f.useMemo)(()=>{class d extends kakao.maps.AbstractOverlay{constructor(e,f,g){super(),this.draw=e,this.onAdd=f,this.onRemove=g}}return new d(a,b,c)},[a,b,c]);return(0,f.useImperativeHandle)(e,()=>h,[h]),(0,f.useLayoutEffect)(()=>(h.setMap(g),()=>{h.setMap(null)}),[g,h]),(0,f.useLayoutEffect)(()=>{d&&d(h)},[h,d]),null}),Z=["id","as","children","position","pan","panoId","panoX","panoY","tilt","zoom","onCreate","onInit","onPanoidChange","onPositionChanged","onViewpointChange","onErrorGetNearestPanoId"],$=f.createContext(void 0),_=f.forwardRef((a,b)=>{let{id:c,as:d,children:e,position:g,pan:m,panoId:n,panoX:o,panoY:p,tilt:q,zoom:r,onCreate:s,onInit:t,onPanoidChange:u,onPositionChanged:v,onViewpointChange:w,onErrorGetNearestPanoId:x}=a,y=i(a,Z);const[z,A]=(0,f.useState)(!1),[B,C]=(0,f.useState)(!0),[D,E]=(0,f.useState)(),F=(0,f.useRef)(null);return j(()=>{l.isLoaded().then(A)},[]),j(()=>{if(!z)return;const a=F.current;if(!a)return;const b=new kakao.maps.Roadview(a,{pan:m,panoId:n,panoX:o,panoY:p,tilt:q,zoom:r});return E(b),()=>{a.innerHTML=""}},[z,o,p,r]),(0,f.useImperativeHandle)(b,()=>D,[D]),j(()=>{D&&s&&s(D)},[D,s]),j(()=>{if(!D||n||D.getPosition().getLat()===g.lat&&D.getPosition().getLng()===g.lng)return;const a=new kakao.maps.LatLng(g.lat,g.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(a,g.radius,b=>{null===b&&x?x(D):D.setPanoId(b,a)})},[D,n,g.lat,g.lng,g.radius,x]),j(()=>{if(!D||!n||n===D.getPanoId()||D.getPosition().getLat()===g.lat&&D.getPosition().getLng()===g.lng)return;const a=new kakao.maps.LatLng(g.lat,g.lng);D.setPanoId(n,a)},[D,n,g.lat,g.lng]),j(()=>{if(!D)return;const a=D.getViewpoint();a.pan===m&&a.tilt===q||(m&&(a.pan=m),q&&(a.tilt=q),D.setViewpoint(a))},[D,m,q]),k(D,"init",a=>{C(!1),t&&t(a)}),k(D,"panoid_changed",u),k(D,"viewpoint_changed",w),k(D,"position_changed",v),f.createElement(f.Fragment,null,f.createElement(d||"div",h({ref:F,id:c||"react-kakao-maps-sdk-roadview-container"},y)),D&&!B&&f.createElement($.Provider,{value:D},e))}),aa=a=>{const b=(0,f.useContext)($);if(!b)throw new Error((a?a+" Component":"useRoadview")+" must exist inside Roadview Component!");return b},ba=f.forwardRef(({position:a,children:b,clickable:c,xAnchor:d,yAnchor:e,zIndex:h,altitude:i,range:j,onCreate:k},l)=>{const m=aa("CustomOverlayRoadview"),n=(0,f.useRef)(document.createElement("div")),o=(0,f.useMemo)(()=>"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Viewpoint(a.pan,a.tilt,a.zoom,a.panoId),[a.lat,a.lng,a.pan,a.tilt,a.zoom,a.panoId]),p=(0,f.useMemo)(()=>{const a=new kakao.maps.CustomOverlay({clickable:c,xAnchor:d,yAnchor:e,zIndex:h,position:o,content:n.current});return n.current.style.display="none",a},[c,d,e]);return(0,f.useImperativeHandle)(l,()=>p,[p]),(0,f.useLayoutEffect)(()=>{if(m)return p.setMap(m),()=>{p.setMap(null)}},[p,m]),(0,f.useLayoutEffect)(()=>{k&&k(p)},[p,k]),(0,f.useLayoutEffect)(()=>{p.setPosition(o)},[p,o]),(0,f.useLayoutEffect)(()=>{h&&p.setZIndex(h)},[p,h]),(0,f.useLayoutEffect)(()=>{i&&p.setAltitude(i)},[p,i]),(0,f.useLayoutEffect)(()=>{j&&p.setRange(j)},[p,j]),n.current.parentElement&&g.createPortal(b,n.current.parentElement)}),ca=f.forwardRef(({image:a,position:b,children:c,altitude:d,clickable:e,infoWindowOptions:g,onClick:h,onDragEnd:i,onDragStart:j,onMouseOut:k,onMouseOver:l,onCreate:m,opacity:n,range:o,title:p,zIndex:q},r)=>{const s=aa("RoadviewMarker"),t=(0,f.useMemo)(()=>{var b,c,d,e,f,g,h,i,j,k,l,m;return a&&new kakao.maps.MarkerImage(a.src,new kakao.maps.Size(a.size.width,a.size.height),{alt:null==(b=a.options)?void 0:b.alt,coords:null==(c=a.options)?void 0:c.coords,offset:(null==(d=a.options)?void 0:d.offset)&&new kakao.maps.Point(null==(e=a.options)?void 0:e.offset.x,null==(f=a.options)?void 0:f.offset.y),shape:null==(g=a.options)?void 0:g.shape,spriteOrigin:(null==(h=a.options)?void 0:h.spriteOrigin)&&new kakao.maps.Point(null==(i=a.options)?void 0:i.spriteOrigin.x,null==(j=a.options)?void 0:j.spriteOrigin.y),spriteSize:(null==(k=a.options)?void 0:k.spriteSize)&&new kakao.maps.Size(null==(l=a.options)?void 0:l.spriteSize.width,null==(m=a.options)?void 0:m.spriteSize.height)})},[a]),u=(0,f.useMemo)(()=>"lat"in b?new kakao.maps.LatLng(b.lat,b.lng):"x"in b?new kakao.maps.Coords(b.x,b.y).toLatLng():new kakao.maps.Viewpoint(b.pan,b.tilt,b.zoom,b.panoId),[b.lat,b.lng,b.x,b.y,b.pan,b.tilt,b.zoom,null==b?void 0:b.panoId]);return f.createElement(N,{map:s,position:u,image:t,altitude:d,clickable:e,infoWindowOptions:g,onClick:h,onDragEnd:i,onDragStart:j,onMouseOut:k,onMouseOver:l,onCreate:m,opacity:n,range:o,title:p,zIndex:q,ref:r},c)}),da=f.forwardRef(({position:a,children:b,altitude:c,disableAutoPan:d,range:e,removable:g,zIndex:h,onCreate:i},j)=>{const k=aa("RoadviewInfoWindow"),l=(0,f.useMemo)(()=>"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Viewpoint(a.pan,a.tilt,a.zoom,a.panoId),[a.lat,a.lng,a.pan,a.tilt,a.zoom,a.panoId]);return f.createElement(K,{altitude:c,disableAutoPan:d,range:e,removable:g,zIndex:h,map:k,position:l,onCreate:i,ref:j},b)}),ea=f.createContext(void 0);function fa(a,b,c){(0,f.useLayoutEffect)(()=>{a&&c&&a.addListener(b,(...b)=>void 0===b?c(a):c(a,...b))},[c,a,b])}f.forwardRef(function({arrowOptions:a,circleOptions:b,ellipseOptions:c,markerOptions:d,polygonOptions:e,polylineOptions:g,rectangleOptions:h,drawingMode:i,guideTooltip:j,onSelect:k,onDrawstart:l,onDraw:m,onDrawend:n,onDrawnext:o,onCancle:p,onRemove:q,onStateChanged:r,onCreate:s,children:t},u){const v=J("Toolbox"),w=(0,f.useMemo)(()=>{if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:v,drawingMode:i,guideTooltip:j,arrowOptions:a,circleOptions:b,ellipseOptions:c,markerOptions:d,polygonOptions:e,polylineOptions:g,rectangleOptions:h});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return(0,f.useImperativeHandle)(u,()=>w,[w]),(0,f.useLayoutEffect)(()=>{w&&s&&s(w)},[w,s]),fa(w,"select",k),fa(w,"drawstart",l),fa(w,"draw",m),fa(w,"drawend",n),fa(w,"drawnext",o),fa(w,"cancel",p),fa(w,"remove",q),fa(w,"state_changed",r),w?f.createElement(ea.Provider,{value:w},t):null}),f.forwardRef(function({position:a},b){a=a||kakao.maps.ControlPosition.TOP;const c=J("Toolbox"),d=(0,f.useContext)(ea);if(!d)throw new Error("Toolbox must exist inside DrawingManager Component!`");const e=(0,f.useMemo)(()=>new kakao.maps.drawing.Toolbox({drawingManager:d}),[d]);return(0,f.useImperativeHandle)(b,()=>e,[e]),(0,f.useLayoutEffect)(()=>{const b=e.getElement();return c.addControl(b,a),()=>{c.removeControl(b)}},[c,e,a]),null}),f.forwardRef(({id:a="react-kakao-maps-sdk-staticmap-container",style:b,className:c,center:d,marker:e,level:g,mapTypeId:i,onCreate:k},l)=>{const[m,n]=(0,f.useState)(),o=(0,f.useRef)(null);return j(()=>{if(!window.kakao)return void console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`");const a=o.current;a&&kakao.maps.load(()=>{const b=Array.isArray(e)?e.map(a=>h({},a,{position:new kakao.maps.LatLng(a.position.lat,a.position.lng)})):"object"==typeof e&&e.position?h({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)}):e,c=new kakao.maps.StaticMap(a,{center:new kakao.maps.LatLng(d.lat,d.lng),level:g,mapTypeId:i,marker:b});n(c)})},[JSON.stringify(e)]),(0,f.useImperativeHandle)(l,()=>m,[m]),j(()=>{m&&m.setCenter(new kakao.maps.LatLng(d.lat,d.lng))},[m,d.lat,d.lng]),j(()=>{m&&g&&m.setLevel(g)},[m,g]),j(()=>{m&&i&&m.setMapTypeId(i)},[m,i]),j(()=>{m&&k&&k(m)},[m,k]),f.createElement("div",{id:a,style:b,className:c,ref:o})})}}])